import Vuex from 'vuex'import Vue from  'vue'import _ from "lodash";Vue.use(Vuex);export default new Vuex.Store({	state:{		userInfo:{},		menus: [],		total: 0,  // 分页总条数		tableData:[],		pager:{			page:1,			perPage:10,		},		nickname:'',		role:'',		bindStatus:'',		bindUrl:''	},	mutations:{		upDataTotal(state, total) {			this.state.total = total		},		getUserInfo(state,userInfo){			state.userInfo = userInfo		},		addRole:(state,data)=>{			localStorage.role = data;			state.role = data;		},		updateState(state,data){			_.mapKeys(data, function(value, key) {				if(_.isPlainObject(value)){					state[key] = _.extend(state[key],value)				}				else{					state[key] = value				}			});		},		bindStatus(state,data){		   	state.bindStatus=data;		},		bindUrl(state,data){		   localStorage.bindUrl=data;		   state.bindUrl=data;		},		roleType(state,data){			state.roles=data;		},		setNickname(state,data){			state.nickname=data		}	},	actions:{		updateCountAsync({commit,state},count){			setTimeout(function() {				commit('updateCount',count)			}, 1000);		},		changePager({commit},data){			commit('updateState',{pager:data})		},		tableData({commit},data){			commit('updateState',{tableData:data.data,total:data.total})		},		initiValue({commit},data){			commit('updateState',{				tableData:[],				total:0,				pager:{					page:1,					perPage: 10				}			})		}	},	// plugins: [createPersistedState({	// 	storage:window.localStorage,	// 	reducer(val)  {	// 		return {	// 			// 只储存state中的bindUrl,bindStatus,roles	// 			bindUrl: val.bindUrl,	// 			bindStatus:val.bindStatus,	// 			roles:val.roles,	// 			userInfo:val.userInfo	// 		}	// 	}	// })]  //vuex数据状态持久化})